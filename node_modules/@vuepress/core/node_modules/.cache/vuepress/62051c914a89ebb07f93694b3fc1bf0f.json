{"remainingRequest":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/vuepress-plugin-comment/Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/vuepress-plugin-comment/Comment.vue","mtime":499162500000},{"path":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1599519275000},{"path":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1599519275000},{"path":"/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dpbGwvRG9jdW1lbnRzL0RvY3VtZW50cyAtIFdpbGxcdTIwMTlzIE1hY0Jvb2sgUHJvL3Byb2plY3QvdnVlcHJlc3Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwppbXBvcnQgeyBwcm92aWRlciwgcmVuZGVyQ29uZmlnLCBsb2FkU2NyaXB0IH0gZnJvbSAnLi91dGlsJzsKdmFyIGNvbW1lbnREb21JRCA9ICd2dWVwcmVzcy1wbHVnaW4tY29tbWVudCc7CnZhciB0aW1lciA9IG51bGw7CmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZnJvbnRtYXR0ZXIgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICB0bzoge30sCiAgICAgICAgZnJvbToge30KICAgICAgfSwgX3RoaXMuJGZyb250bWF0dGVyKTsKCiAgICAgIGNsZWFyKCkgJiYgbmVlZENvbW1lbnQoZnJvbnRtYXR0ZXIpICYmIHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpOwogICAgfSwgMTAwMCk7CiAgICB0aGlzLiRyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSkgewogICAgICBpZiAodG8gJiYgZnJvbSAmJiB0by5wYXRoID09PSBmcm9tLnBhdGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmcm9udG1hdHRlciA9IF9vYmplY3RTcHJlYWQoewogICAgICAgIHRvOiB0bywKICAgICAgICBmcm9tOiBmcm9tCiAgICAgIH0sIF90aGlzLiRmcm9udG1hdHRlcik7CgogICAgICBjbGVhcigpICYmIG5lZWRDb21tZW50KGZyb250bWF0dGVyKSAmJiByZW5kZXJDb21tZW50KGZyb250bWF0dGVyKTsKICAgIH0pOwogIH0KfTsKLyoqCiAqIENsZWFyIGxhc3QgcGFnZSBjb21tZW50IGRvbQogKi8KCmZ1bmN0aW9uIGNsZWFyKGZyb250bWF0dGVyKSB7CiAgc3dpdGNoIChDT01NRU5UX0NIT09TRU4pIHsKICAgIGNhc2UgJ2dpdGFsayc6CiAgICAgIHJldHVybiBwcm92aWRlci5naXRhbGsuY2xlYXIoY29tbWVudERvbUlEKTsKCiAgICBjYXNlICd2YWxpbmUnOgogICAgICB2YXIgZWwgPSBDT01NRU5UX09QVElPTlMuZWwgfHwgY29tbWVudERvbUlEOwoKICAgICAgaWYgKGVsLnN0YXJ0c1dpdGgoJyMnKSkgewogICAgICAgIGVsID0gZWwuc2xpY2UoMSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGVsKTsKICAgICAgcmV0dXJuIHByb3ZpZGVyLnZhbGluZS5jbGVhcihlbCk7CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIGZhbHNlOwogIH0KfQovKioKICogQ2hlY2sgaWYgY3VycmVudCBwYWdlIG5lZWRzIHJlbmRlciBjb21tZW50CiAqLwoKCmZ1bmN0aW9uIG5lZWRDb21tZW50KGZyb250bWF0dGVyKSB7CiAgcmV0dXJuIGZyb250bWF0dGVyLmNvbW1lbnQgIT09IGZhbHNlICYmIGZyb250bWF0dGVyLmNvbW1lbnRzICE9PSBmYWxzZTsKfQovKioKICogUmVuZGVyIGNvbW1lbnQgZG9tIGFuZCBhcHBlbmQgaXQgdG8gY29udGFpbmVyCiAqLwoKCmZ1bmN0aW9uIHJlbmRlckNvbW1lbnQoZnJvbnRtYXR0ZXIpIHsKICBjbGVhclRpbWVvdXQodGltZXIpOwogIHZhciBwYXJlbnRET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKENPTU1FTlRfQ09OVEFJTkVSKTsKCiAgaWYgKCFwYXJlbnRET00pIHsKICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByZW5kZXJDb21tZW50KGZyb250bWF0dGVyKTsKICAgIH0sIDIwMCk7CiAgICByZXR1cm47CiAgfQoKICBzd2l0Y2ggKENPTU1FTlRfQ0hPT1NFTikgewogICAgY2FzZSAnZ2l0YWxrJzoKICAgICAgcmV0dXJuIHByb3ZpZGVyLmdpdGFsay5yZW5kZXIoZnJvbnRtYXR0ZXIsIGNvbW1lbnREb21JRCk7CgogICAgY2FzZSAndmFsaW5lJzoKICAgICAgdmFyIGVsID0gQ09NTUVOVF9PUFRJT05TLmVsIHx8IGNvbW1lbnREb21JRDsKCiAgICAgIGlmIChlbC5zdGFydHNXaXRoKCcjJykpIHsKICAgICAgICBlbCA9IGVsLnNsaWNlKDEpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvdmlkZXIudmFsaW5lLnJlbmRlcihmcm9udG1hdHRlciwgZWwpOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBmYWxzZTsKICB9Cn0="},{"version":3,"sources":["/Users/will/Documents/Documents - Will’s MacBook Pro/project/vuepress/node_modules/vuepress-plugin-comment/Comment.vue"],"names":["provider","renderConfig","loadScript","commentDomID","timer","mounted","setTimeout","frontmatter","to","from","$frontmatter","clear","needComment","renderComment","$router","afterEach","path","COMMENT_CHOOSEN","gitalk","el","COMMENT_OPTIONS","startsWith","slice","console","log","valine","comment","comments","clearTimeout","parentDOM","document","querySelector","COMMENT_CONTAINER","render"],"mappings":";;;;AAAA;AACA;AACA;AACA;AAEA,SACEA,QADF,EAEEC,YAFF,EAGEC,UAHF,QAIO,QAJP;AAMA,IAAMC,YAAY,GAAG,yBAArB;AACA,IAAIC,KAAK,GAAG,IAAZ;AAEA,eAAe;AACbC,EAAAA,OADa,qBACF;AAAA;;AACTD,IAAAA,KAAK,GAAGE,UAAU,CAAC,YAAM;AACvB,UAAMC,WAAW;AACfC,QAAAA,EAAE,EAAE,EADW;AAEfC,QAAAA,IAAI,EAAE;AAFS,SAGZ,KAAI,CAACC,YAHO,CAAjB;;AAKAC,MAAAA,KAAK,MAAMC,WAAW,CAACL,WAAD,CAAtB,IAAuCM,aAAa,CAACN,WAAD,CAApD;AACD,KAPiB,EAOf,IAPe,CAAlB;AASA,SAAKO,OAAL,CAAaC,SAAb,CAAuB,UAACP,EAAD,EAAKC,IAAL,EAAc;AACnC,UAAID,EAAE,IAAIC,IAAN,IAAcD,EAAE,CAACQ,IAAH,KAAYP,IAAI,CAACO,IAAnC,EAAyC;AACvC;AACD;;AACD,UAAMT,WAAW;AACfC,QAAAA,EAAE,EAAFA,EADe;AAEfC,QAAAA,IAAI,EAAJA;AAFe,SAGZ,KAAI,CAACC,YAHO,CAAjB;;AAKAC,MAAAA,KAAK,MAAMC,WAAW,CAACL,WAAD,CAAtB,IAAuCM,aAAa,CAACN,WAAD,CAApD;AACD,KAVD;AAWD;AAtBY,CAAf;AAyBA;;;;AAGA,SAASI,KAAT,CAAgBJ,WAAhB,EAA6B;AAC3B,UAAQU,eAAR;AACE,SAAK,QAAL;AACE,aAAOjB,QAAQ,CAACkB,MAAT,CAAgBP,KAAhB,CAAsBR,YAAtB,CAAP;;AACF,SAAK,QAAL;AACE,UAAIgB,EAAE,GAAGC,eAAe,CAACD,EAAhB,IAAsBhB,YAA/B;;AACA,UAAIgB,EAAE,CAACE,UAAH,CAAc,GAAd,CAAJ,EAAwB;AACtBF,QAAAA,EAAE,GAAGA,EAAE,CAACG,KAAH,CAAS,CAAT,CAAL;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,EAAZ;AACA,aAAOnB,QAAQ,CAACyB,MAAT,CAAgBd,KAAhB,CAAsBQ,EAAtB,CAAP;;AACF;AAAS,aAAO,KAAP;AAVX;AAYD;AAED;;;;;AAGA,SAASP,WAAT,CAAsBL,WAAtB,EAAmC;AACjC,SAAOA,WAAW,CAACmB,OAAZ,KAAwB,KAAxB,IAAiCnB,WAAW,CAACoB,QAAZ,KAAyB,KAAjE;AACD;AAED;;;;;AAGA,SAASd,aAAT,CAAwBN,WAAxB,EAAqC;AACnCqB,EAAAA,YAAY,CAACxB,KAAD,CAAZ;AAEA,MAAMyB,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuBC,iBAAvB,CAAlB;;AACA,MAAI,CAACH,SAAL,EAAgB;AACdzB,IAAAA,KAAK,GAAGE,UAAU,CAAC;AAAA,aAAMO,aAAa,CAACN,WAAD,CAAnB;AAAA,KAAD,EAAmC,GAAnC,CAAlB;AACA;AACD;;AAED,UAAQU,eAAR;AACE,SAAK,QAAL;AACE,aAAOjB,QAAQ,CAACkB,MAAT,CAAgBe,MAAhB,CAAuB1B,WAAvB,EAAoCJ,YAApC,CAAP;;AACF,SAAK,QAAL;AACE,UAAIgB,EAAE,GAAGC,eAAe,CAACD,EAAhB,IAAsBhB,YAA/B;;AACA,UAAIgB,EAAE,CAACE,UAAH,CAAc,GAAd,CAAJ,EAAwB;AACtBF,QAAAA,EAAE,GAAGA,EAAE,CAACG,KAAH,CAAS,CAAT,CAAL;AACD;;AACD,aAAOtB,QAAQ,CAACyB,MAAT,CAAgBQ,MAAhB,CAAuB1B,WAAvB,EAAoCY,EAApC,CAAP;;AACF;AAAS,aAAO,KAAP;AATX;AAWD","sourcesContent":["//\n//\n//\n//\n\nimport {\n  provider,\n  renderConfig,\n  loadScript,\n} from './util'\n\nconst commentDomID = 'vuepress-plugin-comment' \nlet timer = null\n\nexport default {\n  mounted () {\n    timer = setTimeout(() => {\n      const frontmatter = {\n        to: {},\n        from: {},\n        ...this.$frontmatter\n      }\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\n    }, 1000)\n\n    this.$router.afterEach((to, from) => {\n      if (to && from && to.path === from.path) {\n        return\n      }\n      const frontmatter = {\n        to,\n        from,\n        ...this.$frontmatter\n      }\n      clear() && needComment(frontmatter) && renderComment(frontmatter)\n    })\n  }\n}\n\n/**\n * Clear last page comment dom\n */\nfunction clear (frontmatter) {\n  switch (COMMENT_CHOOSEN) {\n    case 'gitalk': \n      return provider.gitalk.clear(commentDomID)\n    case 'valine': \n      let el = COMMENT_OPTIONS.el || commentDomID\n      if (el.startsWith('#')) {\n        el = el.slice(1)\n      }\n      console.log(el)\n      return provider.valine.clear(el)\n    default: return false\n  }\n}\n\n/**\n * Check if current page needs render comment\n */\nfunction needComment (frontmatter) {\n  return frontmatter.comment !== false && frontmatter.comments !== false\n}\n\n/**\n * Render comment dom and append it to container\n */\nfunction renderComment (frontmatter) {\n  clearTimeout(timer)\n\n  const parentDOM = document.querySelector(COMMENT_CONTAINER)\n  if (!parentDOM) {\n    timer = setTimeout(() => renderComment(frontmatter), 200)\n    return \n  }\n\n  switch (COMMENT_CHOOSEN) {\n    case 'gitalk': \n      return provider.gitalk.render(frontmatter, commentDomID)\n    case 'valine': \n      let el = COMMENT_OPTIONS.el || commentDomID\n      if (el.startsWith('#')) {\n        el = el.slice(1)\n      }\n      return provider.valine.render(frontmatter, el)\n    default: return false\n  }\n}\n"]}]}